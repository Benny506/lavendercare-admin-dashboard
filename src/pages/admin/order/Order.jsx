import React, { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";

const ordersData = [
  {
    id: "#10223",
    user: "Dr. Eniola Obi",
    total: "₦8,200",
    payment: "Paid",
    status: "Processing",
  },
  {
    id: "#10223",
    user: "Dr. Eniola Obi",
    total: "₦8,200",
    payment: "Paid",
    status: "Shipped",
  },
  {
    id: "#10223",
    user: "Nurse Lilian James",
    total: "₦7,500",
    payment: "Paid",
    status: "Delivered",
  },
  {
    id: "#10223",
    user: "Dada Funke Adeyemi",
    total: "₦2,000",
    payment: "Pending",
    status: "Delivered",
  },
  {
    id: "#10223",
    user: "Dr. Eniola Obi",
    total: "₦4,500",
    payment: "Failed",
    status: "Cancelled",
  },
];

function OrderPopup({ order, onClose }) {
  if (!order) return null;
  const isProcessing = order.status === "Processing";
  const isDelivered = order.status === "Delivered";



  return (
    <div className="fixed inset-0 z-[4000]  flex items-center justify-center bg-black/80">
      <div className="bg-white border-4 border-(--primary-500)/20 w-[90%] lg:h-full h-[500px] overflow-y-scroll rounded-xl shadow-lg p-6 max-w-md relative animate-fadeIn">
        <button
          className="absolute flex items-center gap-1 left-4 top-4 text-(--primary-500) text-sm font-bold"
          onClick={onClose}
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_2298_4778)">
              <path
                d="M16.6668 9.16634H6.52516L11.1835 4.50801L10.0002 3.33301L3.3335 9.99967L10.0002 16.6663L11.1752 15.4913L6.52516 10.833H16.6668V9.16634Z"
                fill="#6F3DCB"
              />
            </g>
            <defs>
              <clipPath id="clip0_2298_4778">
                <rect width="20" height="20" fill="white" />
              </clipPath>
            </defs>
          </svg>
          Back
        </button>

        <div className="flex gap-1 items-center mt-18">
          <div className="w-10 h-10 rounded-full bg-gray-300" />
          <div className="flex flex-col gap-1">
            <span className="font-bold text-sm">{order.id}</span>
            <span
              className={`px-2 py-1 w-max rounded-full text-xs font-medium ${
                isProcessing
                  ? "bg-purple-100 text-purple-600"
                  : isDelivered
                  ? "bg-green-100 text-green-600"
                  : "bg-gray-100 text-gray-600"
              }`}
            >
              {order.status}
            </span>
          </div>
        </div>

        <div className="mb-4">
          <h4 className="font-semibold mb-1">Items Ordered</h4>
          <p className="text-xs">Name: Lorem ipsum</p>
          <p className="text-xs">Quantity: Lorem ipsum</p>
          <p className="text-xs">Price: Lorem ipsum</p>
        </div>

        <div className="mb-4">
          <h4 className="font-semibold mb-1">Customer Info</h4>
          <p className="text-xs mb-2">Shipping address: Lorem ipsum</p>
          <p className="text-xs mb-2">Contact: Lorem ipsum</p>
        </div>

        <div className="mb-4">
          <h4 className="font-semibold mb-1">Payment Details</h4>
          <p className="text-xs mb-2">Method: Lorem ipsum</p>
          <p className="text-xs mb-2">Transaction ID: Lorem ipsum</p>
          <p className="text-xs mb-2">Date: Lorem ipsum</p>
        </div>

        <div className="mb-4">
          <h4 className="font-semibold mb-1">Status Timeline</h4>
          <div className="flex pt-4 gap-2 items-center">
            <span className="w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-xs">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  fill="#F4EBFF"
                />
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  stroke="#F9F5FF"
                  stroke-width="4"
                />
                <g clip-path="url(#clip0_1543_35646)">
                  <path
                    d="M17.3323 10.6295C17.3866 10.6257 17.4531 10.6252 17.5081 10.625C18.3324 10.6248 19.1229 10.9523 19.7057 11.5352C20.212 12.0364 20.5304 12.6965 20.6077 13.4047C20.638 13.6955 20.6279 14.0728 20.6288 14.3744C21.0784 14.3643 21.5626 14.373 22.0145 14.373L24.3772 14.3735L24.3779 16.8231C24.3779 17.2605 24.3863 17.7293 24.3755 18.1646C24.4624 18.1697 24.5558 18.1827 24.6421 18.1959C26.0981 18.4318 27.4038 19.2285 28.2796 20.4153C29.1689 21.6194 29.5407 23.1287 29.3126 24.6081C29.0826 26.087 28.2739 27.4138 27.0648 28.2959C26.0908 29.009 24.9122 29.3878 23.7052 29.3759C23.3041 29.3707 23.049 29.3341 22.6588 29.2732C22.5699 29.2589 22.3343 29.327 22.2263 29.345C22.1057 29.3649 21.9838 29.376 21.8616 29.3781C21.172 29.387 20.461 29.3787 19.77 29.3787L15.7023 29.3786L13.9205 29.3787C13.5515 29.3789 12.9945 29.3985 12.6492 29.3316C12.1671 29.2371 11.7237 29.0025 11.3743 28.6573C11.0052 28.2981 10.7568 27.8331 10.6635 27.3266C10.6176 27.0711 10.6231 26.8343 10.623 26.577L10.6234 25.8928L10.6235 23.5209L10.6226 14.3742L14.377 14.3742C14.324 13.3481 14.4536 12.4731 15.156 11.6809C15.7186 11.0466 16.4892 10.6805 17.3323 10.6295ZM17.6808 14.373L19.3764 14.374C19.3652 13.8158 19.4253 13.3793 19.1469 12.8632C19.0527 12.6893 18.9319 12.5312 18.7889 12.3946C18.4088 12.0326 17.9431 11.8667 17.422 11.884C17.3943 11.8849 17.3666 11.8865 17.339 11.8886C16.815 11.9432 16.3791 12.1676 16.0448 12.5781C15.582 13.1463 15.6243 13.6941 15.6287 14.3744L17.6808 14.373Z"
                    fill="#6F3DCB"
                  />
                  <path
                    d="M11.8738 15.6243L14.3776 15.6239C14.3692 16.0294 14.3768 16.4666 14.3767 16.8745L15.6235 16.8738L15.6238 15.6246L19.3776 15.6239C19.3692 16.0294 19.3768 16.4666 19.3767 16.8745L20.6235 16.8738L20.6238 15.6246C21.4528 15.6158 22.2976 15.6225 23.1276 15.6239C23.1217 15.9036 23.1269 16.2032 23.1269 16.4843L23.1278 18.1606C22.909 18.1966 22.7376 18.2164 22.5155 18.2655C21.8414 18.417 21.2012 18.6921 20.6274 19.077C19.3094 19.9655 18.5117 21.2337 18.2092 22.7828C18.1282 23.3217 18.1014 23.7798 18.1575 24.3282C18.3126 25.8187 19.0573 27.1852 20.2259 28.1232L20.0426 28.125L15.1457 28.1255L13.7363 28.1259C13.1738 28.1264 12.6815 28.1962 12.244 27.7598C12.0531 27.5715 11.9292 27.3258 11.8912 27.0604C11.8682 26.8925 11.8729 26.7039 11.873 26.533L11.8735 25.8759L11.8735 23.5948L11.8738 15.6243Z"
                    fill="#D2C3EF"
                  />
                  <path
                    d="M23.5976 19.3787C26.0118 19.2945 28.0371 21.1835 28.121 23.5977C28.2049 26.0119 26.3156 28.037 23.9014 28.1206C21.4876 28.2041 19.4631 26.3153 19.3792 23.9015C19.2952 21.4878 21.1838 19.4629 23.5976 19.3787Z"
                    fill="#F0F5EA"
                  />
                  <path
                    d="M25.6194 21.6182C25.6839 21.6502 26.4025 22.3938 26.5133 22.5022C26.3765 22.6248 26.2205 22.7886 26.0891 22.9199L25.3565 23.6525L23.1231 25.8865C23.02 25.7668 22.821 25.5792 22.704 25.4623L21.8933 24.6521C21.5991 24.3576 21.2881 24.0359 20.9888 23.7503C21.1106 23.6374 21.243 23.4988 21.3614 23.3804C21.5346 23.2097 21.7056 23.037 21.8748 22.8625C22.2761 23.2825 22.7158 23.7013 23.1253 24.1184C23.9419 23.2792 24.8095 22.4604 25.6194 21.6182Z"
                    fill="#48711E"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_1543_35646">
                    <rect
                      width="20"
                      height="20"
                      fill="white"
                      transform="translate(10 10)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </span>
            <span className="w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-xs">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  fill="#F4F4F4"
                />
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  stroke="#F4F4F4"
                  stroke-width="4"
                />
                <path
                  d="M12.6504 12.5038C12.9589 12.4831 13.3935 12.4964 13.7127 12.4964H15.6686L21.4715 12.4963C22.1245 12.4985 22.6657 12.6605 23.1367 13.1395C23.4758 13.4818 23.6878 13.9296 23.7375 14.4089C23.757 14.594 23.7536 14.7893 23.7536 14.9759L23.7522 15.6247C24.1307 15.6146 24.5228 15.6249 24.9022 15.6214C25.2277 15.6227 25.5534 15.6181 25.8788 15.6224C26.1358 15.6258 26.2736 15.6842 26.4447 15.8737C26.9534 16.4375 27.4607 17.0022 27.9686 17.5665L28.6066 18.2753C28.8184 18.5101 29.1881 18.8861 29.3343 19.1456C29.3974 19.2576 29.3786 19.9649 29.3786 20.1433L29.3787 21.5319L29.3786 22.9924C29.3786 23.2505 29.3802 23.5088 29.3761 23.7669C29.3726 23.9894 29.2473 24.1917 29.0531 24.2987C28.8813 24.3933 28.6929 24.3758 28.504 24.3795C28.3788 24.381 28.2511 24.3832 28.1265 24.3767C28.1302 25.024 28.1734 25.4814 27.8795 26.0881C27.588 26.6907 27.068 27.1521 26.4349 27.3698C25.7851 27.5919 25.1074 27.5314 24.4949 27.2309C24.2483 27.1134 24.0133 26.9337 23.8241 26.7388C23.4374 26.3406 23.1958 25.8239 23.1383 25.2718C23.1122 25.0089 23.1229 24.647 23.1259 24.3749C22.7939 24.3877 22.4068 24.3775 22.0688 24.3776L20.044 24.3775L18.3443 24.3775C18.0896 24.3776 17.7474 24.3896 17.5015 24.3767L17.5034 24.9182C17.5022 25.6357 17.2858 26.2605 16.767 26.773C16.2972 27.2444 15.6573 27.5065 14.9918 27.5003C14.3207 27.5001 13.6781 27.2293 13.2094 26.7491C12.8154 26.3487 12.5697 25.8259 12.5129 25.267C12.4874 25.0069 12.4977 24.6442 12.5009 24.3749C12.2776 24.3837 12.0069 24.3759 11.7815 24.3781C11.6162 24.3797 11.2331 24.3884 11.0858 24.3533C10.9954 24.3312 10.9118 24.2876 10.842 24.2262C10.7074 24.1094 10.6345 23.9552 10.6278 23.7791C10.6194 23.5606 10.6226 23.3403 10.6229 23.1218L10.6234 21.9879L10.6233 18.3456L10.6228 15.7303L10.6227 14.9854C10.6227 14.7638 10.618 14.5231 10.6506 14.3048C10.7135 13.909 10.8864 13.5388 11.1495 13.2364C11.5414 12.7858 12.0588 12.5442 12.6504 12.5038ZM11.8772 23.1247C12.9763 23.1059 14.122 23.1214 15.2239 23.1214L21.5575 23.1215C21.8654 23.1214 22.1882 23.1162 22.4949 23.1225C22.4791 22.9038 22.489 22.5764 22.4891 22.352L22.4893 20.9424V16.5294L22.4892 15.191C22.489 14.7132 22.5665 14.3019 22.1643 13.9577C22.0381 13.8507 21.8829 13.7835 21.7186 13.7645C21.6105 13.7524 21.4355 13.7534 21.3244 13.7526L20.6815 13.7524L18.7721 13.7525L12.8031 13.7547C12.3464 13.768 11.9484 14.0387 11.8929 14.524C11.862 14.7944 11.8778 15.1078 11.8779 15.3829L11.8784 16.9407L11.8783 21.0369C11.8783 21.7129 11.8936 22.4557 11.8772 23.1247ZM13.7536 24.3767C13.7515 24.5205 13.7516 24.6643 13.7538 24.8081C13.758 25.2294 13.789 25.531 14.1022 25.8588C14.3275 26.0969 14.6385 26.2352 14.9663 26.2429C15.329 26.2502 15.6261 26.1237 15.886 25.873C16.3233 25.3996 16.2419 24.9742 16.2509 24.3749C15.7253 24.386 15.1734 24.3777 14.6461 24.3778L14.0816 24.378C13.9823 24.3784 13.8499 24.3846 13.7536 24.3767ZM28.1259 19.9999C27.5726 20.0119 26.99 20.0031 26.4348 20.003L25.9152 20.0029C25.6588 20.0028 25.4011 20.0269 25.2006 19.8372C25.0743 19.7197 25.0016 19.5557 24.9993 19.3833C24.9968 19.2178 25.0599 19.058 25.175 18.939C25.3527 18.7553 25.5355 18.7478 25.7754 18.7461C26.2958 18.7426 26.819 18.7513 27.3392 18.7452C26.9399 18.3256 26.5582 17.871 26.1641 17.4455C26.0131 17.2825 25.8062 17.0268 25.6491 16.8822C25.4924 16.8707 25.2686 16.8771 25.1074 16.8772L24.19 16.8781C24.0668 16.8783 23.8679 16.8861 23.7536 16.8767C23.7434 17.3926 23.7534 17.9424 23.7534 18.4606L23.7535 21.6171C23.7535 22.1011 23.7654 22.6455 23.7522 23.1247C24.2271 23.1167 24.7106 23.1173 25.1857 23.1214C26.1643 23.1298 27.1486 23.1075 28.1265 23.1233C28.1073 22.3738 28.1231 21.5492 28.1232 20.7956C28.1221 20.5304 28.123 20.2651 28.1259 19.9999ZM24.3786 24.3767C24.3765 24.5235 24.3766 24.6704 24.379 24.8172C24.3831 25.2348 24.4174 25.5346 24.7272 25.8587C24.9524 26.0969 25.2635 26.2352 25.5913 26.2429C25.9539 26.2502 26.2511 26.1237 26.511 25.873C26.948 25.3999 26.8672 24.9745 26.8759 24.3749C26.3506 24.3862 25.7982 24.3777 25.2711 24.3778L24.7066 24.378C24.6073 24.3784 24.4749 24.3846 24.3786 24.3767Z"
                  fill="#B1B1B0"
                />
                <path
                  d="M16.9467 14.6896C19.0152 14.556 20.8008 16.1237 20.9359 18.1922C21.0712 20.2606 19.505 22.0474 17.4367 22.1843C15.366 22.3214 13.5766 20.7529 13.4412 18.6821C13.3059 16.6113 14.8758 14.8233 16.9467 14.6896ZM16.8481 18.4391C16.7111 18.2988 16.5734 18.1591 16.435 18.0202C16.2484 17.8328 16.0988 17.6397 15.811 17.6352C15.6462 17.6323 15.487 17.6954 15.3691 17.8105C15.2481 17.9304 15.1806 18.0941 15.182 18.2644C15.183 18.5425 15.3434 18.6799 15.5258 18.8597L15.8105 19.1397C15.8158 19.1448 15.8211 19.1498 15.8264 19.1548L16.1736 19.5036C16.3638 19.6938 16.5565 19.9263 16.8446 19.9254C17.105 19.9247 17.2318 19.8044 17.4047 19.6309L18.463 18.561C18.5861 18.4366 18.7093 18.312 18.831 18.1863C19.0087 18.0029 19.1796 17.8631 19.178 17.5878C19.1755 17.4206 19.1083 17.2608 18.9904 17.142C18.8822 17.0347 18.6953 16.9511 18.5413 16.9669C18.4502 16.9752 18.3261 16.9924 18.2513 17.047C18.096 17.1605 17.9397 17.3431 17.8017 17.4782C17.4806 17.7924 17.1681 18.1258 16.8481 18.4391Z"
                  fill="#B1B1B0"
                />
              </svg>
            </span>
            <span className="w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-xs">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  fill="#F4F4F4"
                />
                <rect
                  x="2"
                  y="2"
                  width="36"
                  height="36"
                  rx="18"
                  stroke="#F4F4F4"
                  stroke-width="4"
                />
                <g clip-path="url(#clip0_1543_35658)">
                  <path
                    d="M19.644 10H20.34C20.3429 10.001 20.3459 10.002 20.3489 10.003C20.6054 10.0562 20.8766 10.0798 21.1263 10.1663C21.9577 10.4597 22.8102 10.7481 23.6173 11.1031C24.4204 11.4563 25.2672 11.7719 26.0533 12.1571C26.6673 12.4579 27.4229 12.7865 27.9731 13.1784C28.7657 13.743 29.319 14.7172 29.4552 15.6724C29.5032 16.0009 29.5006 16.3347 29.5101 16.6662C29.5622 18.4751 29.563 20.2826 29.5368 22.092L29.5086 23.4018C29.4956 23.8519 29.4986 24.2917 29.3729 24.7291C29.3143 24.9329 29.3224 25.1623 29.3044 25.3723C29.1137 27.5939 27.4096 29.4755 25.2246 29.9046C25.1002 29.929 24.7151 29.96 24.6242 30H23.8428C23.7961 29.9814 23.7152 29.9727 23.664 29.967C23.2359 29.9199 22.8203 29.8252 22.4189 29.6674C22.302 29.6215 22.179 29.5645 22.0591 29.5249L22.0468 29.521C21.94 29.5424 21.8086 29.597 21.7056 29.6331C21.3517 29.7571 21.0087 29.8996 20.6335 29.9461C20.5642 29.9546 20.4184 29.976 20.357 30H19.6547C19.5974 29.9764 19.204 29.9211 19.0964 29.8946C18.829 29.8286 18.6224 29.7507 18.3635 29.6589C16.8702 29.1292 15.4 28.5321 13.9675 27.8547C13.6163 27.6886 13.2627 27.5126 12.9173 27.3354C12.6705 27.2075 12.4253 27.0905 12.1917 26.9386C11.2485 26.3249 10.6254 25.2614 10.5187 24.1445C10.4996 23.9444 10.497 23.7277 10.4908 23.5267L10.467 22.4088C10.4514 21.4186 10.4389 20.4568 10.4425 19.4644L10.4746 17.1221C10.4783 16.9561 10.4804 16.789 10.4865 16.6228C10.4973 16.3332 10.4963 16.038 10.5319 15.7501C10.6506 14.7898 11.1501 13.8836 11.8986 13.2705C12.173 13.0458 12.4781 12.8841 12.7934 12.7262C14.7201 11.7314 16.7311 10.9049 18.7788 10.1947C18.9451 10.137 19.1213 10.1009 19.2931 10.0644C19.3922 10.0434 19.5565 10.0346 19.644 10ZM20.556 28.4498C20.3602 28.2216 20.1847 28.024 20.0147 27.776C18.5606 25.6548 18.9291 22.752 20.8685 21.0555C22.6282 19.5162 25.2416 19.3756 27.1562 20.7217C27.2579 20.7938 27.3552 20.8684 27.4539 20.9452C27.697 21.1511 27.8457 21.2975 28.0637 21.5296C28.0574 21.339 28.0629 21.1419 28.0643 20.9507C28.0759 19.3374 28.0628 17.7232 28.0092 16.1107C27.9888 15.4973 27.6421 14.7762 27.1391 14.4137C26.5511 14.5975 25.9629 14.8009 25.3805 15.0023C23.4345 15.6752 21.5141 16.4187 19.6223 17.2314L19.07 17.4733C18.581 17.683 18.5657 17.6084 18.5488 18.149C18.517 19.1697 18.4985 20.1892 18.5155 21.2106C18.5175 21.3502 18.5191 21.4918 18.512 21.6301C18.4497 22.8486 17.1371 23.6138 16.0491 23.0461C15.6255 22.8249 15.5111 22.592 15.2234 22.248C15.086 22.2735 14.9443 22.312 14.8052 22.3223C14.5371 22.3414 14.263 22.2862 14.0177 22.18C13.5111 21.9609 13.1222 21.4688 13.0341 20.9227C12.9912 20.6573 13.0074 20.3236 13.0076 20.0503L13.007 18.7391L13.0058 17.2078C13.0054 16.8741 12.9879 16.4842 13.0386 16.1598C13.14 15.5108 13.5629 14.89 14.1334 14.5639C14.346 14.4422 14.575 14.3546 14.8002 14.2601L15.7795 13.8491L19.2625 12.3852L20.3734 11.9194C20.5298 11.8539 20.8041 11.7485 20.9459 11.6756C20.6159 11.5519 20.1754 11.4496 19.823 11.4979C19.6746 11.5137 19.517 11.5307 19.3735 11.5736C18.945 11.7019 18.5243 11.8618 18.1048 12.0177C16.5368 12.6005 14.9986 13.2674 13.5104 14.0318C13.3473 14.1155 13.1754 14.2019 13.0204 14.2996C12.4933 14.6319 12.1278 15.215 12.024 15.8261C11.9798 16.0867 11.9819 16.3746 11.9745 16.6401L11.9472 17.9461C11.9188 19.3764 11.9209 20.8357 11.9515 22.2655L11.9767 23.4189C11.9822 23.6196 11.9812 23.8389 12.0028 24.0368C12.0713 24.6351 12.3766 25.2068 12.85 25.5817C13.0539 25.7432 13.2787 25.8528 13.508 25.9703C14.9947 26.7323 16.5396 27.4037 18.1051 27.9845L18.8915 28.2705C19.5212 28.4929 19.8755 28.5873 20.556 28.4498ZM24.4286 28.5072C26.4226 28.3959 27.9483 26.6882 27.8351 24.6943C27.7219 22.7004 26.0127 21.1764 24.0189 21.2915C22.0278 21.4064 20.5063 23.1128 20.6194 25.104C20.7324 27.0952 22.4373 28.6183 24.4286 28.5072ZM16.5938 21.5835C16.7009 21.722 16.7741 21.7935 16.9524 21.7091L16.96 21.7C17.0635 21.5744 17.0324 21.3028 17.031 21.1388L17.0259 20.4224C17.024 19.5801 17.0457 18.7442 17.0724 17.9001C17.09 17.3393 17.2751 16.8707 17.721 16.5044C17.95 16.3191 18.2649 16.2024 18.5393 16.0828L19.4434 15.6993C21.2011 14.9706 22.986 14.3051 24.7762 13.6613C24.9655 13.5932 25.1554 13.5253 25.3461 13.4612C24.786 13.2104 24.225 12.9689 23.658 12.7338C23.5198 12.6765 23.0631 12.4667 22.9526 12.4525C22.7852 12.5109 22.5758 12.6062 22.4097 12.6762L21.4325 13.0876L18.3842 14.3686L16.0498 15.3496L15.3388 15.6477C15.1991 15.7062 15.0526 15.7617 14.9186 15.8322C14.3974 16.1065 14.4917 16.6801 14.4927 17.1758L14.4936 18.3425L14.4934 19.8116C14.4933 20.065 14.4853 20.3214 14.4946 20.5744C14.4963 20.6203 14.4994 20.6746 14.5156 20.7177C14.5316 20.7602 14.5683 20.7977 14.6099 20.8154C14.6679 20.84 14.7318 20.8279 14.7879 20.8038C14.9426 20.7373 15.4908 20.3272 15.618 20.3724C15.6606 20.3876 15.7043 20.4379 15.7339 20.472C15.8487 20.6042 15.9506 20.7515 16.057 20.8909L16.5938 21.5835Z"
                    fill="#B1B1B0"
                  />
                  <path
                    d="M25.8922 23.167L25.9337 23.1639C26.3576 23.1361 26.7138 23.432 26.7381 23.8642C26.7489 24.0574 26.6776 24.2642 26.5409 24.4036C26.3576 24.5906 26.1638 24.7726 25.9742 24.9546L25.0227 25.8712L24.4411 26.4318C24.3209 26.5481 24.1872 26.6898 24.0528 26.7845C23.7759 26.9797 23.3895 26.9379 23.1442 26.7106C23.051 26.6243 22.9608 26.5372 22.8697 26.4499L22.4217 26.0213C22.2228 25.828 22.0199 25.6387 21.8227 25.444C21.706 25.3287 21.6337 25.1781 21.6151 25.0166C21.5473 24.4252 22.1475 23.995 22.6829 24.2627C22.8435 24.3429 22.9405 24.4668 23.0701 24.5833C23.2649 24.7584 23.4503 24.9686 23.6521 25.1327C23.9594 24.8006 24.3896 24.4181 24.7231 24.0956L25.218 23.614C25.4462 23.3922 25.5685 23.2285 25.8922 23.167Z"
                    fill="#B1B1B0"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_1543_35658">
                    <rect
                      width="20"
                      height="20"
                      fill="white"
                      transform="translate(10 10)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </span>
          </div>
        </div>

        <div className="flex gap-2 mt-6 justify-center">
          <button className="py-2 px-4 rounded-full w-full bg-red-500 text-white font-medium text-xs sm:text-sm">
            Initiate Refund
          </button>
          <button
            className={`py-2 px-4 w-full rounded-full ${
              isProcessing
                ? "bg-(--primary-500) text-white"
                : isDelivered
                ? "bg-primary text-white"
                : "bg-gray-200 text-gray-700"
            } font-medium text-xs sm:text-sm`}
          >
            {isProcessing
              ? "Download Invoice"
              : isDelivered
              ? "Print Invoice"
              : "Invoice"}
          </button>
        </div>
      </div>
    </div>
  );
}

function Order() {
  const [showPopup, setShowPopup] = useState(false);
  const [selectedOrder, setSelectedOrder] = useState(null);
  const navigate = useNavigate();
  
//   useEffect(()=>{
//     showPopup ? document.style.overflow = 'hidden' : document.style.overflow = 'auto'
//   }, [showPopup])



  const handleEyeClick = (order) => {
    if (order.status === "Processing" || order.status === "Delivered") {
      setSelectedOrder(order);
      setShowPopup(true);
    } else {
      navigate("/admin/order/detail");
    }
  };

  return (
    <div className="pt-6 mb-8 w-full min-h-screen">
      {/* breadcrumb */}
      <div className="flex items-center gap-1 text-xs text-gray-400 mb-4">
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.66667 14.1663H13.3333M9.18141 2.30297L3.52949 6.6989C3.15168 6.99276 2.96278 7.13968 2.82669 7.32368C2.70614 7.48667 2.61633 7.67029 2.56169 7.86551C2.5 8.0859 2.5 8.32521 2.5 8.80384V14.833C2.5 15.7664 2.5 16.2331 2.68166 16.5896C2.84144 16.9032 3.09641 17.1582 3.41002 17.318C3.76654 17.4996 4.23325 17.4996 5.16667 17.4996H14.8333C15.7668 17.4996 16.2335 17.4996 16.59 17.318C16.9036 17.1582 17.1586 16.9032 17.3183 16.5896C17.5 16.2331 17.5 15.7664 17.5 14.833V8.80384C17.5 8.32521 17.5 8.0859 17.4383 7.86551C17.3837 7.67029 17.2939 7.48667 17.1733 7.32368C17.0372 7.13968 16.8483 6.99276 16.4705 6.69891L10.8186 2.30297C10.5258 2.07526 10.3794 1.9614 10.2178 1.91763C10.0752 1.87902 9.92484 1.87902 9.78221 1.91763C9.62057 1.9614 9.47418 2.07526 9.18141 2.30297Z"
            stroke="#8B8B8A"
            strokeWidth="1.66667"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_1918_35894)">
            <path
              d="M6.66656 4L5.72656 4.94L8.7799 8L5.72656 11.06L6.66656 12L10.6666 8L6.66656 4Z"
              fill="#8B8B8A"
            />
          </g>
          <defs>
            <clipPath id="clip0_1918_35894">
              <rect width="16" height="16" fill="white" />
            </clipPath>
          </defs>
        </svg>
        <span>Orders & Transactions</span>
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_1918_35894)">
            <path
              d="M6.66656 4L5.72656 4.94L8.7799 8L5.72656 11.06L6.66656 12L10.6666 8L6.66656 4Z"
              fill="#8B8B8A"
            />
          </g>
          <defs>
            <clipPath id="clip0_1918_35894">
              <rect width="16" height="16" fill="white" />
            </clipPath>
          </defs>
        </svg>
        <span className="text-(--primary-500) font-semibold">Orders</span>
      </div>

      {/* orders title */}
      <div className="flex justify-between items-center pb-8">
        <h2 className="text-lg sm:text-xl font-bold">Orders</h2>

        <div className="flex gap-1 items-center justify-between">
          <button className="bg-white border flex items-center gap-1 border-gray-300 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium">
            <svg
              width="18"
              height="14"
              viewBox="0 0 18 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9 10.6919L9 5.1534M9 5.1534L11.4615 7.61493M9 5.1534L6.53846 7.61493M4.69231 13.1534C2.6531 13.1534 1 11.5003 1 9.46109C1 7.82585 2.06302 6.43889 3.53571 5.95355C3.48701 5.69428 3.46154 5.42681 3.46154 5.1534C3.46154 2.77432 5.39016 0.845703 7.76923 0.845703C9.76409 0.845703 11.4422 2.20168 11.9322 4.04221C12.1716 3.96458 12.4271 3.92263 12.6923 3.92263C14.0518 3.92263 15.1538 5.02469 15.1538 6.38416C15.1538 6.66982 15.1052 6.94411 15.0157 7.1992C16.1757 7.63992 17 8.76193 17 10.0765C17 11.7758 15.6224 13.1534 13.9231 13.1534H4.69231Z"
                stroke="black"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Export
          </button>

          <select className="border border-gray-200 rounded-lg px-3 py-2 text-xs sm:text-sm bg-white text-gray-700 focus:outline-none">
            <option>Last 30 days</option>
            <option>Last 7 days</option>
          </select>
        </div>
      </div>

      <div className="bg-white rounded-xl p-4">
        {/* all order */}
        <div className="flex flex-col md:flex-row pb-4 gap-2 justify-between md:items-center">
          <h3 className="text-[18px] font-semibold">All Order</h3>
          <div className="flex flex-col w-full md:w-max sm:flex-row gap-2 items-center">
            {/* search icn */}
            <input
              type="text"
              placeholder="Search doctor or mother"
              className="border border-gray-200 rounded-lg px-3 py-2 w-full sm:w-64 text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-primary"
            />
            {/* filter btn */}
            <select className="border w-full md:w-max border-gray-200 rounded-lg px-3 py-2 text-xs sm:text-sm bg-white text-gray-700 focus:outline-none">
              <option>Filter by: All</option>
              <option>Paid</option>
              <option>Pending</option>
              <option>Failed</option>
            </select>
          </div>
        </div>

        <div className="overflow-x-auto">
          <table className="min-w-full divide-y divide-gray-200 text-xs sm:text-sm">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  Order ID
                </th>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  User
                </th>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  Total
                </th>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  Payment Status
                </th>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  Order Status
                </th>
                <th className="px-3 sm:px-6 py-3 text-left font-medium text-gray-500">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="bg-white divide-y divide-gray-200">
              {ordersData.map((order, idx) => (
                <tr key={idx}>
                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap">
                    {order.id}
                  </td>
                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap">
                    {order.user}
                  </td>
                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap">
                    {order.total}
                  </td>
                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap">
                    <span
                      className={`px-2 py-1 rounded-full text-xs font-medium ${
                        order.payment === "Paid"
                          ? "bg-green-100 text-green-600"
                          : order.payment === "Pending"
                          ? "bg-yellow-100 text-yellow-600"
                          : "bg-red-100 text-red-600"
                      }`}
                    >
                      {order.payment}
                    </span>
                  </td>

                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap">
                    <span
                      className={`px-2 py-1 rounded-full text-xs font-medium ${
                        order.status === "Processing"
                          ? "bg-purple-100 text-purple-600"
                          : order.status === "Shipped"
                          ? "bg-blue-100 text-blue-600"
                          : order.status === "Delivered"
                          ? "bg-green-100 text-green-600"
                          : order.status === "Cancelled"
                          ? "bg-red-100 text-red-600"
                          : "bg-gray-100 text-gray-600"
                      }`}
                    >
                      {order.status}
                    </span>
                  </td>

                  <td className="px-3 sm:px-6 py-4 whitespace-nowrap flex gap-2 items-center">
                    <button
                      className="cursor-pointer"
                      onClick={() => handleEyeClick(order)}
                    >
                      <svg
                        width="18"
                        height="12"
                        viewBox="0 0 18 12"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M17.9483 5.757C17.922 5.69775 17.2868 4.2885 15.8745 2.87625C13.9928 0.9945 11.616 0 9 0C6.384 0 4.00725 0.9945 2.12549 2.87625C0.713243 4.2885 0.0749929 5.7 0.0517429 5.757C0.0176277 5.83373 0 5.91677 0 6.00075C0 6.08473 0.0176277 6.16777 0.0517429 6.2445C0.0779929 6.30375 0.713243 7.71225 2.12549 9.1245C4.00725 11.0055 6.384 12 9 12C11.616 12 13.9928 11.0055 15.8745 9.1245C17.2868 7.71225 17.922 6.30375 17.9483 6.2445C17.9824 6.16777 18 6.08473 18 6.00075C18 5.91677 17.9824 5.83373 17.9483 5.757ZM9 10.8C6.6915 10.8 4.67475 9.96075 3.00524 8.30625C2.32023 7.62502 1.73743 6.84822 1.27499 6C1.73731 5.1517 2.32012 4.37488 3.00524 3.69375C4.67475 2.03925 6.6915 1.2 9 1.2C11.3085 1.2 13.3253 2.03925 14.9948 3.69375C15.6811 4.37472 16.2652 5.15154 16.7288 6C16.188 7.0095 13.8323 10.8 9 10.8ZM9 2.4C8.28799 2.4 7.59196 2.61114 6.99995 3.00671C6.40793 3.40228 5.94651 3.96453 5.67403 4.62234C5.40156 5.28015 5.33026 6.00399 5.46917 6.70233C5.60808 7.40066 5.95094 8.04212 6.45441 8.54559C6.95788 9.04906 7.59934 9.39192 8.29767 9.53083C8.99601 9.66973 9.71985 9.59844 10.3777 9.32597C11.0355 9.05349 11.5977 8.59207 11.9933 8.00005C12.3889 7.40804 12.6 6.71201 12.6 6C12.599 5.04553 12.2194 4.13043 11.5445 3.45551C10.8696 2.7806 9.95448 2.40099 9 2.4ZM9 8.4C8.52532 8.4 8.06131 8.25924 7.66663 7.99553C7.27195 7.73181 6.96434 7.35698 6.78269 6.91844C6.60104 6.4799 6.55351 5.99734 6.64611 5.53178C6.73872 5.06623 6.9673 4.63859 7.30294 4.30294C7.63859 3.9673 8.06623 3.73872 8.53178 3.64612C8.99734 3.55351 9.4799 3.60104 9.91844 3.78269C10.357 3.96434 10.7318 4.27195 10.9955 4.66663C11.2592 5.06131 11.4 5.52532 11.4 6C11.4 6.63652 11.1471 7.24697 10.6971 7.69706C10.247 8.14714 9.63652 8.4 9 8.4Z"
                          fill="#6F3DCB"
                        />
                      </svg>
                    </button>
                    <button className="bg-(--primary-500) cursor-pointer text-white py-1 px-4 rounded-full">
                      Invoice
                    </button>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
        <div className="flex flex-col sm:flex-row items-center justify-between px-3 sm:px-6 py-3 sm:py-4 gap-2 mt-2">
          <div className="text-xs sm:text-sm text-gray-500 mb-1 sm:mb-0">
            Previous
          </div>
          <div className="flex items-center gap-1 sm:gap-2">
            <button className="w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center rounded-full bg-primary text-white text-xs sm:text-sm">
              1
            </button>
            <button className="w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center rounded-full text-gray-500 text-xs sm:text-sm">
              2
            </button>
            <button className="w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center rounded-full text-gray-500 text-xs sm:text-sm">
              3
            </button>
            <span className="text-xs text-gray-500">... 10</span>
          </div>
          <div className="text-xs sm:text-sm text-gray-500 mb-1 sm:mb-0">
            Next
          </div>
        </div>
      </div>

      {showPopup && (
        <OrderPopup order={selectedOrder} onClose={() => setShowPopup(false)} />
      )}
    </div>
  );
}

export default Order;
